apiVersion: v1
kind: Secret
metadata:
  name: {{ include "summit-cap.fullname" . }}-secret
  labels:
    {{- include "summit-cap.labels" . | nindent 4 }}
type: Opaque
data:
  # Database environment variables
  POSTGRES_DB: {{ .Values.secrets.POSTGRES_DB | toString | b64enc | quote }}
  POSTGRES_USER: {{ .Values.secrets.POSTGRES_USER | toString | b64enc | quote }}
  POSTGRES_PASSWORD: {{ .Values.secrets.POSTGRES_PASSWORD | toString | b64enc | quote }}

  # API environment variables
  DATABASE_URL: {{ .Values.secrets.DATABASE_URL | toString | b64enc | quote }}
  COMPLIANCE_DATABASE_URL: {{ .Values.secrets.COMPLIANCE_DATABASE_URL | toString | b64enc | quote }}
  DEBUG: {{ .Values.secrets.DEBUG | toString | b64enc | quote }}
  ALLOWED_HOSTS: {{ .Values.secrets.ALLOWED_HOSTS | toString | b64enc | quote }}
  AUTH_DISABLED: {{ .Values.secrets.AUTH_DISABLED | toString | b64enc | quote }}
  KEYCLOAK_URL: {{ .Values.secrets.KEYCLOAK_URL | toString | b64enc | quote }}
  KEYCLOAK_REALM: {{ .Values.secrets.KEYCLOAK_REALM | toString | b64enc | quote }}
  S3_ENDPOINT: {{ .Values.secrets.S3_ENDPOINT | toString | b64enc | quote }}
  S3_ACCESS_KEY: {{ .Values.secrets.S3_ACCESS_KEY | toString | b64enc | quote }}
  S3_SECRET_KEY: {{ .Values.secrets.S3_SECRET_KEY | toString | b64enc | quote }}
  S3_BUCKET: {{ .Values.secrets.S3_BUCKET | toString | b64enc | quote }}
  LLM_API_KEY: {{ .Values.secrets.LLM_API_KEY | toString | b64enc | quote }}
  LLM_BASE_URL: {{ .Values.secrets.LLM_BASE_URL | toString | b64enc | quote }}
  LLM_MODEL_FAST: {{ .Values.secrets.LLM_MODEL_FAST | toString | b64enc | quote }}
  LLM_MODEL_CAPABLE: {{ .Values.secrets.LLM_MODEL_CAPABLE | toString | b64enc | quote }}
  LANGFUSE_PUBLIC_KEY: {{ .Values.secrets.LANGFUSE_PUBLIC_KEY | toString | b64enc | quote }}
  LANGFUSE_SECRET_KEY: {{ .Values.secrets.LANGFUSE_SECRET_KEY | toString | b64enc | quote }}
  LANGFUSE_HOST: {{ .Values.secrets.LANGFUSE_HOST | toString | b64enc | quote }}
  SQLADMIN_SECRET_KEY: {{ .Values.secrets.SQLADMIN_SECRET_KEY | toString | b64enc | quote }}

  # UI environment variables
  VITE_API_BASE_URL: {{ .Values.secrets.VITE_API_BASE_URL | toString | b64enc | quote }}
  VITE_ENVIRONMENT: {{ .Values.secrets.VITE_ENVIRONMENT | toString | b64enc | quote }}
